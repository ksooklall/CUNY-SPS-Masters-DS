\documentclass[5p]{elsarticle} %review=doublespace preprint=single 5p=2 column
%%% Begin My package additions %%%%%%%%%%%%%%%%%%%

\usepackage[hyphens]{url}


\usepackage{lineno} % add

\usepackage{graphicx}
%%%%%%%%%%%%%%%% end my additions to header

\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \usepackage{fontspec}
  \ifxetex
    \usepackage{xltxtra,xunicode}
  \fi
  \defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
  \newcommand{\euro}{€}
\fi
% use microtype if available
\IfFileExists{microtype.sty}{\usepackage{microtype}}{}
\usepackage[]{natbib}
\bibliographystyle{plainnat}

\usepackage{graphicx}
\ifxetex
  \usepackage[setpagesize=false, % page size defined by xetex
              unicode=false, % unicode breaks when used with xetex
              xetex]{hyperref}
\else
  \usepackage[unicode=true]{hyperref}
\fi
\hypersetup{breaklinks=true,
            bookmarks=true,
            pdfauthor={},
            pdftitle={Readmission rates fo Type 2 Diabetics},
            colorlinks=false,
            urlcolor=blue,
            linkcolor=magenta,
            pdfborder={0 0 0}}

\setcounter{secnumdepth}{0}
% Pandoc toggle for numbering sections (defaults to be off)
\setcounter{secnumdepth}{0}


% tightlist command for lists without linebreak
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}



\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage{wrapfig}
\usepackage{float}
\usepackage{colortbl}
\usepackage{pdflscape}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage{threeparttablex}
\usepackage[normalem]{ulem}
\usepackage{makecell}
\usepackage{xcolor}



\begin{document}


\begin{frontmatter}

  \title{Readmission rates fo Type 2 Diabetics}
    \author[CUNY-SPS]{Kenan Sooklall%
  %
  \fnref{Corresponding Author}}
   \ead{ksooklall100@gmail.com} 
      \affiliation[]{CUNY School of Professional Studies}
    \cortext[cor1]{Corresponding author}
  
  \begin{abstract}
  This is the abstract.

  It consists of two paragraphs.
  \end{abstract}
  
 \end{frontmatter}

\hypertarget{introduction}{%
\subsection{Introduction}\label{introduction}}

Type 2 diabetes has reached epidemic proportions worldwide. According to
the WHO diabetes has entered the top 10 causes of death, following a
significant percentage increase of 70\% since 2000. Diabetes is also
responsible for the largest rise in male deaths among the top 10, with
an 80\% increase since 2000. Diabetes is a group of diseases that affect
insulin production and use. In type 1 diabetes, the pancreas can't
produce insulin. The cause isn't known. In type 2 diabetes, the pancreas
doesn't produce enough insulin, or insulin can't be used effectively.
Type 2 diabetes can be caused by a number of factors, including poor
diet, lack of exercise, and being overweight.

\hypertarget{preprocessing}{%
\subsection{Preprocessing}\label{preprocessing}}

The data set was obtained from UC Irvine and contains 101766 rows and 50
columns. The patient column contains 71518 unique patients. To avoid
over fitting on a single patient all duplicated patient data was dropped
leaving the data set with 71518 rows. The 50 columns can be broken down
in to 5 parts, admission data, lab diagnosis, patient details, diagnosis
data and diabetic drugs, Table 1.

The data set has ``?'' to signify a missing value, so ``?'' were
replaced with NaNs for all columns. The weight, payer code and medical
specialty were dropped for having too many NaNs. Drug columns examide,
citoglipton and glimepiride-pioglitazone were dropped because they only
had 1 unique value. Encounter ID was dropped as it doesn't provide any
informative information. Admission type, Discharge disposition,
Admission source and race was dropped as it might make the model not
useful and can lead to uninformative result.

The target column readmitted was transformed with NO as 0 and all other
values as 1. This remapping transforms readmitted from 3 unique values
to 2, changing this analysis to binary classification. The age column
was bucketed into young (age\textless30), adult
(30\textless age\textless60) and old (age\textgreater60) then one hot
encoded.

The diagnosis columns diag\_1,2 and 3 were mapped according to the icd9
codes, then one hot encoded. The drug columns were mapped NO as 0 and
all other values as 1. The only NaN rows were diagnosis, so they were
all dropped as imputation is not possible.

Columns to great interest are glucose serum test result and A1c test
result. Glucose serum test is a numeric value that measures blood sugar
level, a value of 126 mg/dL or higher indicates the patient is diabetic.
The A1C test measures the percentage of your red blood cells that have
sugar-coated hemoglobin, a value of 6.5\% or above indicates the patient
is diabetic.

\clearpage
\onecolumn

\begin{table}
\centering
\begin{tabular}{|>{\raggedright\arraybackslash}p{9em}|>{}l|>{\raggedright\arraybackslash}p{35em}|>{\raggedleft\arraybackslash}p{1em}}
\hline
Feature.Name & Type & Description.and.Values & missing\\
\hline
\textbf{Encounter ID} & \cellcolor{yellow}{Numeric} & Unique identifier of an encounter & 0.0\\
\hline
\textbf{Patient number} & \cellcolor{yellow}{Numeric} & Unique identifier of a patient & 0.0\\
\hline
\textbf{Race} & \cellcolor{yellow}{Nominal} & Caucasian, Asian, African American, Hispanic, and other & 2.2\\
\hline
\textbf{Gender Values} & \cellcolor{yellow}{Nominal} & male, female, and unknown/invalid & 0.0\\
\hline
\textbf{Age} & \cellcolor{yellow}{Nominal} & Grouped in 10-year intervals 0, 10), 10, 20), …, 90, 100) & 0.0\\
\hline
\textbf{Weight} & \cellcolor{yellow}{Numeric} & Weight in pounds & 96.9\\
\hline
\textbf{Admission type} & \cellcolor{yellow}{Nominal} & Integer identifier corresponding to 9 distinct values, for example, emergency, urgent, elective, newborn, and not available & 0.0\\
\hline
\textbf{Discharge disposition} & \cellcolor{yellow}{Nominal} & Integer identifier corresponding to 29 distinct values, for example, discharged to home, expired, and not available & 0.0\\
\hline
\textbf{Admission source} & \cellcolor{yellow}{Nominal} & Integer identifier corresponding to 21 distinct values, for example, physician referral, emergency room, and transfer from a hospital & 0.0\\
\hline
\textbf{Time in hospital} & \cellcolor{yellow}{Numeric} & Integer number of days between admission and discharge & 0.0\\
\hline
\textbf{Payer code} & \cellcolor{yellow}{Nominal} & Integer identifier corresponding to 23 distinct values, for example, Blue Cross/Blue Shield, Medicare, and self-pay Medical & 39.6\\
\hline
\textbf{Medical specialty} & \cellcolor{yellow}{Nominal} & Integer identifier of a specialty of the admitting physician, corresponding to 84 distinct values, for example, cardiology, internal medicine, family/general practice, and surgeon & 49.1\\
\hline
\textbf{Number of lab procedures} & \cellcolor{yellow}{Numeric} & Number of lab tests performed during the encounter & 0.0\\
\hline
\textbf{Number of procedures} & \cellcolor{yellow}{Numeric} & Number of procedures (other than lab tests) performed during the encounter & 0.0\\
\hline
\textbf{Number of medications} & \cellcolor{yellow}{Numeric} & Number of distinct generic names administered during the encounter & 0.0\\
\hline
\textbf{Number of outpatient visits} & \cellcolor{yellow}{Numeric} & Number of outpatient visits of the patient in the year preceding the encounter & 0.0\\
\hline
\textbf{Number of emergency visits} & \cellcolor{yellow}{Numeric} & Number of emergency visits of the patient in the year preceding the encounter & 0.0\\
\hline
\textbf{Number of inpatient visits} & \cellcolor{yellow}{Numeric} & Number of inpatient visits of the patient in the year preceding the encounter & 0.0\\
\hline
\textbf{Diagnosis 1} & \cellcolor{yellow}{Nominal} & The primary diagnosis (coded as first three digits of ICD9); 848 distinct values & 0.0\\
\hline
\textbf{Diagnosis 2} & \cellcolor{yellow}{Nominal} & Secondary diagnosis (coded as first three digits of ICD9); 923 distinct values & 0.4\\
\hline
\textbf{Diagnosis 3} & \cellcolor{yellow}{Nominal} & Additional secondary diagnosis (coded as first three digits of ICD9); 954 distinct values & 1.4\\
\hline
\textbf{Number of diagnoses} & \cellcolor{yellow}{Numeric} & Number of diagnoses entered to the system 0\% & 0.0\\
\hline
\textbf{Glucose serum test} & \cellcolor{yellow}{Nominal} & result Indicates the range of the result or if the test was not taken. Values '>200', '>300', 'normal' and 'none' if not measured & 0.0\\
\hline
\textbf{A1c test result} & \cellcolor{yellow}{Nominal} & Indicates the range of the result or if the test was not taken. Values '>8' if the result was greater than 8\%, '>7' if the result was greater than 7\% but less than 8\%, 'normal' if the result was less than 7\%, and “none” if not measured. 7\% to 8\% is an increase of \textasciitilde{}30mg/dl of glucose, 6\%=120mg/dl & 0.0\\
\hline
\textbf{Change of medications} & \cellcolor{yellow}{Nominal} & Indicates if there was a change in diabetic medications (either dosage or generic name). Values 'change' and 'no change' & 0.0\\
\hline
\textbf{Diabetes medications} & \cellcolor{yellow}{Nominal} & Indicates if there was any diabetic medication prescribed. Values 'yes' and 'no' & 0.0\\
\hline
\textbf{24 features for medications} & \cellcolor{yellow}{Nominal} & glyburide-metformin, glipizide-metformin, glimepiride-pioglitazone, metformin-rosiglitazone, and metformin-pioglitazone, the feature indicates whether the drug was prescribed or there was a change in the dosage. Values 'up' if the dosage was increased during the encounter, 'down' if the dosage was decreased, 'steady' if the dosage did not change, and 'no' if the drug was not prescribed & 0.0\\
\hline
\textbf{Readmitted Days} & \cellcolor{yellow}{Nominal} & Values '<30' if the patient was readmitted in less than 30 days, '>30' if the patient was readmitted in more than 30 days, and 'No' for no record of readmission & 0.0\\
\hline
\end{tabular}
\end{table}

\clearpage
\twocolumn

\hypertarget{exploratory-data-analysis}{%
\subsubsection{Exploratory Data
Analysis}\label{exploratory-data-analysis}}

The data set is slightly skewed with 42982 (60\%) patients not being
readmitted and 28533 (40\%) readmitted. Gender is well balanced at 53\%
male and 47\% female. Age is skewed more toward the older population,
which is expected for a disease that is more common in the older
population. All other numeric variables follow a similar distribution.

Figure 2 shows a weak relationship with drugs taken and a patient being
readmitted. The only drug with a high readmission is insulin which is
expected since insulin plays a major role in a patient becoming
diabetic. A1Cresults has an unexpected relationship with readmission,
patients who have not been readmitted have a higher ``\textgreater8\%''
than those readmitted. Glucose serum test is more inline with
expectation with normal values causing less readmission, Figure 3

\clearpage
\onecolumn

\begin{figure}
\hypertarget{id}{%
\centering
\includegraphics[width=3.64583in,height=2.08333in]{/home/kenan/Documents/learning/masters/CUNY-SPS-Masters-DS/DATA_698/graphs/age.jpg}
\caption{Age vs Readmission}\label{id}
}
\end{figure}

\begin{figure}
\hypertarget{id}{%
\centering
\includegraphics[width=7.29167in,height=4.16667in]{/home/kenan/Documents/learning/masters/CUNY-SPS-Masters-DS/DATA_698/graphs/drug.jpg}
\caption{Drug admission vs readmission}\label{id}
}
\end{figure}

\begin{figure}
\hypertarget{id}{%
\centering
\includegraphics[width=3.64583in,height=2.08333in]{/home/kenan/Documents/learning/masters/CUNY-SPS-Masters-DS/DATA_698/graphs/A1Cresults.jpg}
\caption{A1Cresults vs readmission}\label{id}
}
\end{figure}

\begin{figure}
\hypertarget{id}{%
\centering
\includegraphics[width=3.64583in,height=2.08333in]{/home/kenan/Documents/learning/masters/CUNY-SPS-Masters-DS/DATA_698/graphs/max_glucose_serum.jpg}
\caption{Max Glucose Serum vs readmission}\label{id}
}
\end{figure}

\clearpage
\twocolumn

\hypertarget{modeling}{%
\subsubsection{Modeling}\label{modeling}}

Logistic Regression and Random Forest Classifier were trained multiple
times with different combinations of features. The dataset was split
into training and testing with the test set containing 15\% of the data.
Numeric columns were standardized by subtracting the mean and dividing
by the standard deviation thus having a mean of 0 and std of 1. The
first dataset contained all features that were determined to be
important through the exploratory data analysis.

\begin{itemize}
\tightlist
\item
  features = {[}gender, old, young, adult, time\_in\_hospital,
  num\_lab\_procedures, num\_procedures, num\_medications,
  number\_diagnoses, diabetesMed, change{]}
\item
  glucose\_tests = {[}max\_glu\_serum\_num, A1Cresult\_num{]}
\item
  num\_cols = {[}time\_in\_hospital,num\_lab\_procedures,
  num\_medications,number\_diagnoses{]}
\end{itemize}

The results of training for both models are in Table 3.

Logistic Regression performed worst than random forest on both training
and testing. Random forest overfitted on the training set with 99\%
accuracy and only 60\% accuracy on the test set.

SHapley Additive exPlanations (Shap) values are used to determine what
features played the largest role in the patient being readmitted. It is
important to point out the SHAP values do not provide causality.

The second round of modeling is done with a specific set of features
that will help the model more

The last round of modeling is done with glucose serum test result and
A1c test result as those are the features that a patient can control
through diet or exercise

\hypertarget{results-and-dicussion}{%
\subsubsection{Results and Dicussion}\label{results-and-dicussion}}

Diabetes is a very complex disease and this analysis has shown how
difficult it is to predict and manage once a patient is positive.

\hypertarget{conclusion}{%
\subsubsection{Conclusion}\label{conclusion}}

\hypertarget{references}{%
\subsection{References}\label{references}}

https://www.cdc.gov/diabetes/basics/getting-tested.html\#:\textasciitilde:text=This\%20measures\%20your\%20blood\%20sugar,higher\%20indicates\%20you\%20have\%20diabetes.


\end{document}
